"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clearEmpties = exports.updateNxJson = void 0;
const devkit_1 = require("@nx/devkit");
function updateNxJson(tree, pluginName) {
    (0, devkit_1.updateJson)(tree, 'nx.json', (nxJson) => {
        var _a;
        // if plugins is undefined, set it to an empty array
        nxJson.plugins = (_a = nxJson.plugins) !== null && _a !== void 0 ? _a : [];
        // add plugin
        nxJson.plugins.push(pluginName);
        // return modified JSON object
        return nxJson;
    });
}
exports.updateNxJson = updateNxJson;
function clearEmpties(o) {
    for (const k in o) {
        if (!o[k] || typeof o[k] !== 'object') {
            continue; // If null or not an object, skip to the next iteration
        }
        // The property is an object
        if (Object.keys(o[k]).length === 0) {
            delete o[k]; // The object had no properties, so delete that property
        }
    }
    return o;
}
exports.clearEmpties = clearEmpties;
//# sourceMappingURL=generators.js.map